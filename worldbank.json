{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://api.worldbank.org/v2/country/kor;prk/indicator/SP.DYN.TFRT.IN?format=json&per_page=1000&date=2010:2023",
    "format": {"property": "[1]"}
  },
  "width": 500,
  "height": 350,
  "mark": "line",
  "title": {
    "text": "South Korea: declining fertility",
    "subtitle": "Total Fertility Rate Source: World Bank"
  },
  "encoding": {
    "x": {
      "field": "date",
      "type": "temporal",
      "title": "",
      "axis": {"grid": false}
    },
    "y": {"field": "value", "type": "quantitative", "title": ""},
    "color": {
      "field": "countryiso3code",
      "type": "nominal",
      "scale": {"range": ["#CD2E3A", "#024FA2"]},
      "legend": {
        "title": "Country",
        "orient": "top",
        "labelExpr": "datum.label =='Kor' ? 'South Korea': 'North Korea' "
      }
    }
  },
  "config": {}
}